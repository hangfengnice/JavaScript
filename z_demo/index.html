<!doctype html>
<html>
  <head>
    <!-- <link rel="stylesheet" href="legacy-style.css" /> -->
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.8.3/jquery.js"></script>
  </head>
  <body>
    <div class="old-header">...</div>

    <ai-assistant></ai-assistant>

    <script src="ai-assistant.js"></script>

    <script>
      console.log(document, 'docum')

      // jQuery 监听组件抛出的事件
      $(document).ready(function () {
        // 这里的事件监听依然丝滑
        $('ai-assistant').on('new-question', function (e) {
          // 注意：jQuery 的 event 对象封装了一层，原生的 detail 在 originalEvent 里
          console.log(e, 'e')

          var question = e.originalEvent.detail.question
          console.log('老页面收到了 AI 提问：', question)

          // 这里可以调用老系统的 API
          // $.ajax(...)
        })
      })
    </script>
  </body>
</html>
