<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>重绘</title>
  </head>
  <body>
    <p id="output"></p>
    <script>
      let div = document.createElement("div");
      div.style.width = 300 + "px";
      div.style.height = 200 + "px";
      document.body.appendChild(div);
      div.style.color = "red";
      div.style.backgroundColor = 'blue'
      div.style.backgroundImage = "linear-gradient(to bottom right, red, blue)";
      div.style.transition = "all 2s linear";
      
      div.offsetHeight; // 触发浏览器的重绘

      div.style.color = "blue";
      div.style.backgroundColor = 'red'

      setInterval(function() {
        output.textContent = `${getComputedStyle(div).color}, ${getComputedStyle(div).backgroundColor})`
        div.style.backgroundImage = `linear-gradient(to bottom right, ${getComputedStyle(div).color}, ${getComputedStyle(div).backgroundColor})`;
      }, 17);
    </script>
  </body>
</html>
