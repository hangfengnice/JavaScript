<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>NodeList HTMLCollection</title>
</head>
<body>
  <p>节点都是单个对象，有时需要一种数据结构，能够容纳多个节点。DOM 提供两种节点集合，用于容纳多个节点：NodeList和HTMLCollection。</p>
  <p>这两种集合都属于接口规范。许多 DOM 属性和方法，返回的结果是NodeList实例或HTMLCollection实例。主要区别是，NodeList可以包含各种类型的节点，HTMLCollection只能包含 HTML 元素节点</p>
  
  <script>
    // 1 NodeList 接口

    // 上面代码中，NodeList 实例children不是数组，但是具有length属性和forEach方法
    
    // 目前，只有Node.childNodes返回的是一个动态集合，其他的 NodeList 都是静态集合

    // 1.2 NodeList.prototype.length

    console.log(document.querySelectorAll("xxx").length) // 0
    // 上面代码中，document.querySelectorAll返回一个 NodeList 集合。对于那些不存在的 HTML 标签，length属性返回0

    // 1.3 NodeList.prototype.forEach()
    {

    }

    // 1.4 NodeList.prototype.item()
    {
      // item方法接受一个整数值作为参数，表示成员的位置，返回该位置上的成员
      console.log(document.body.childNodes.item(0))

      // 如果参数值大于实际长度，或者索引不合法（比如负数），item方法返回null。如果省略参数，item方法会报错
      console.log(document.body.childNodes.item(-1)) // null

      try {
        console.log(document.body.childNodes.item())
      } catch (error) {
        console.log(error)// uncaught error
      }
    }

    // 1.5 NodeList.prototype.keys()，NodeList.prototype.values()，NodeList.prototype.entries()
    {
      // 这三个方法都返回一个 ES6 的遍历器对象，可以通过for...of循环遍历获取每一个成员的信息。区别在于，keys()返回键名的遍历器，values()返回键值的遍历器，entries()返回的遍历器同时包含键名和键值的信息
    }
  </script>

  <img id="pic" name='meimei' src="https://tva4.sinaimg.cn/crop.0.0.750.750.180/75f2b996jw8f6zkdm7qp7j20ku0kudgr.jpg">
  <script>
    // 2 HTMLCollection 接口

    // 2.1 概述
    // HTMLCollection是一个节点对象的集合，只能包含元素节点（element），不能包含其他类型的节点。它的返回值是一个类似数组的对象，但是与NodeList接口不同，HTMLCollection没有forEach方法，只能使用for循环遍历

    // HTMLCollection实例都是动态集合，节点的变化会实时反映在集合中

    // 如果元素节点有id或name属性，那么HTMLCollection实例上面，可以使用id属性或name属性引用该节点元素。如果没有对应的节点，则返回null

    // document.images是一个HTMLCollection实例
    let pic = document.getElementById('pic')
    console.log(document.images.pic === pic) // true
    console.log(document.images.meimei === pic) // true

    // 2.2 HTMLCollection.prototype.length
    {
      console.log(document.links.length) // 0
      console.log(document.images.length) // 1
    }

    // 2.3 HTMLCollection.prototype.item()
    {
     console.log(document.images.item(0))
     // 如果参数值超出成员数量或者不合法（比如小于0），那么item方法返回null
     console.log(document.images.item(-1)) // null
    }
    
    // 2.4 HTMLCollection.prototype.namedItem()
    {
      // namedItem方法的参数是一个字符串，表示id属性或name属性的值，返回对应的元素节点。如果没有对应的节点，则返回null
      console.log(document.images.namedItem('meimei'))
    }
  </script>
  
</body>
</html>